<div class="container-md mt-3"  data-controller="video" data-video-slug-value="<%= @params %>">
  <h1 class="font-color">Loop</h1>

  <div class="d-flex">
    <div id="video-container">
    <%# DIV PARA O IFRAME DO YOUTUBE %>
      <div id="player"></div>
      <div class="d-flex justify-content-around">
        <div class="btn btn-dark btn-lg btn-block disabled mt-3 rounded-btn-nav" data-video-target="start" data-action="click->video#markStart">Start Recording</div>
        <div type="button" class="btn btn-dark btn-lg btn-block disabled mt-3 ms-3 rounded-btn-nav" data-video-target="stop" data-action="click->video#markStop">Stop Recording</div>
      </div>
      <div data-video-target="message"></div>
    </div>
    <div class="w-100">
      <div class="height-test">
        <div class="font-color">
            <table class="w-100">
                <thead>
                    <tr>
                        <th>Mastered</th>
                        <th>Time</th>
                    </tr>
                </thead>
                <tbody id="solo-list" data-video-target="list">
                <% if @solos %>
                  <% @solos.each do |solo| %>
                  <tr data-action="click->video#setRowActive" data-video-target="row" data-video-start="<%= solo.starting_time %>" data-video-end="<%= solo.ending_time %>">
                    <td class="container-td"><div>(mastered_img)</div></td>
                    <td class="container-td"><div><%= "%02d:%02d" % [solo.starting_time.to_i/60%60, solo.starting_time.to_i%60] %> - <%= "%02d:%02d" % [solo.ending_time.to_i/60%60, solo.ending_time.to_i%60] %></div></td>
                  </tr>
                  <% end %>
                <% end %>
                </tbody>
            </table>
        </div>
      </div>
        <div id="control" data-video-target="control"></div>
    </div>
  </div>

  <% if current_user && current_user.lists %>
    <div class="row">
      <div class="form  col-6">
        <div class="container w-100">
          <div class="row justify-content-center form-signup">
            <div class="col-12">
              <h1 class="">Save to existing List</h1>
            <%= simple_form_for [@catalog], data: { video_target: 'soloform' } do |f| %>
              <%= f.association :list, collection: List.where(user_id: current_user) %>
              <%= f.hidden_field :video_id, value: @params %>
              <%= f.submit 'Save Song', class:"btn rounded-btn-nav color-btn mb-5" %>
            <% end %>
            </div>
          </div>
        </div>
      </div>
  <% end %>
    <div class="form col-6">
      <div class="container w-100">
        <div class="row justify-content-center form-signup">
          <div class="col-12">
            <h1 class="">Save to new List</h1>
            <%= simple_form_for [@list], data: { video_target: 'soloform'} do |f| %>
              <%= f.input :name, label: "List Name" %>
              <%= f.input :description, label: "List Description" %>
              <%= f.hidden_field :video_id, value: @params %>
              <%= f.submit class:"btn color-btn rounded-btn-nav m-4"  %>
            <% end %>
          </div>
        </div>
      </div>
    </div>

  </div>

</div>
